<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.jboss.tools.jsf</groupId>
    <artifactId>tests</artifactId>
    <version>3.3.0-SNAPSHOT</version>
  </parent>
  <groupId>org.jboss.tools.jsf.tests</groupId>
  <artifactId>org.jboss.tools.jsf.ui.bot.test</artifactId>

  <packaging>eclipse-test-plugin</packaging>
  <properties>
    <jbosstools.test.jboss-as.home>${project.build.directory}/requirements/jboss-as-7.0.2.Final</jbosstools.test.jboss-as.home>
    <org.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location>${project.build.directory}/requirements/richfaces-4.2.1.Final/artifacts/ui/richfaces-components-ui-4.2.1.Final.jar</org.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location>
    <xulrunner.plugin.name>org.mozilla.xulrunner.gtk.linux.x86_1.9.2.16b</xulrunner.plugin.name>
    <systemProperties>-Dswtbot.test.skip=false -Dtest.configurations.dir=resources/properties/ -Djbosstools.test.jboss-as.home=${jbosstools.test.jboss-as.home} -Dorg.eclipse.swt.browser.XULRunnerPath=${project.build.outputDirectory}/../work/plugins/${xulrunner.plugin.name}/xulrunner -Dorg.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location=${org.jboss.tools.vpe.ui.bot.test.richfaces.ui.jar.location}</systemProperties>
    <test.suite.class>org.jboss.tools.jsf.ui.bot.test.JSFAllBotTests</test.suite.class>
  </properties>
  <build>
    <plugins>
    	<plugin>
			<groupId>org.apache.maven.plugins</groupId>
			<artifactId>maven-dependency-plugin</artifactId>
			<version>2.4</version>
			<executions>
				<execution>
					<id>unpack</id>
					<phase>pre-integration-test</phase>
					<goals>
						<goal>unpack</goal>
					</goals>
					<configuration>
						<artifactItems>
							<artifactItem>
								<groupId>org.jboss.as</groupId>
								<artifactId>jboss-as-dist</artifactId>
								<version>7.0.2.Final</version>
								<type>zip</type>
							</artifactItem>
							<artifactItem>
								<groupId>org.richfaces</groupId>
								<artifactId>richfaces-distribution</artifactId>
								<version>4.2.1.Final</version>
								<type>zip</type>
							</artifactItem>
						</artifactItems>
						<outputDirectory>${project.build.directory}/requirements</outputDirectory>
					</configuration>
				</execution>
			</executions>
		</plugin>
    
      <plugin>
        <groupId>org.eclipse.tycho</groupId>
        <artifactId>tycho-surefire-plugin</artifactId>
        <configuration>
          <testSuite>org.jboss.tools.jsf.ui.bot.test</testSuite>
          <testClass>${test.suite.class}</testClass>
          <useUIThread>false</useUIThread>
          <skip>${swtbot.test.skip}</skip>
          <product>org.eclipse.platform.ide</product>
          <dependencies combine.children="append">
            <dependency>
              <type>p2-installable-unit</type>
              <artifactId>org.jboss.ide.eclipse.as.feature.feature.group</artifactId>
              <version>0.0.0</version>
            </dependency>
            <dependency>
              <type>p2-installable-unit</type>
              <artifactId>org.jboss.tools.vpe.feature.feature.group</artifactId>
              <version>0.0.0</version>
            </dependency>
            <dependency>
              <type>p2-installable-unit</type>
              <artifactId>org.jboss.tools.jsf.feature.feature.group</artifactId>
              <version>0.0.0</version>
            </dependency>
            <dependency>
              <type>p2-installable-unit</type>
              <artifactId>org.eclipse.jst.enterprise_ui.feature.feature.group</artifactId>
              <version>0.0.0</version>
            </dependency>
            <dependency>
              <type>p2-installable-unit</type>
              <artifactId>org.eclipse.jst.web_core.feature.feature.group</artifactId>
              <version>0.0.0</version>
            </dependency>
            <dependency>
              <type>p2-installable-unit</type>
              <artifactId>org.eclipse.wst.web_ui.feature.feature.group</artifactId>
              <version>0.0.0</version>
            </dependency>
          </dependencies>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>
