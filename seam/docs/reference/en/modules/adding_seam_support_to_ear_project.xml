<?xml version="1.0" encoding="UTF-8"?>
<chapter id="adding_seam_support_to_ear_project" xreflabel="adding_seam_support_to _ear_project" role="new">
    <?dbhtml filename="adding_seam_support_to _ear_project.html"?>
    <chapterinfo>
        <keywordset>
            <keyword>EAR</keyword>
            <keyword>Seam</keyword>
            <keyword></keyword>
            <keyword></keyword>
        </keywordset>
    </chapterinfo>
    
    <title>Adding Seam support to EAR project</title>
    <para>From this chapter you will find out how to add Seam support to EAR project</para>
    <para>For example you have several WTP projects:</para>
    
    <itemizedlist>  
        <listitem><para> seamproject-ear (You can create WTP EAR project using New -> Project -> Java EE -> Enterprise Application Project wizard)</para></listitem>
        <listitem><para> seamproject-ejb (You can create WTP EJB project using New -> Project -> EJB -> EJB Project wizard)</para></listitem>
        <listitem><para> seamproject-war (You can create WTP WEB project using New -> Project -> Web -> Dynamic Web Project wizard)</para></listitem>
    </itemizedlist>
    
    <tip><title>Tip</title>
        <para>You can add as many EJBs modules as you want just doing the same for each EJB project.</para></tip>
    
    <figure>
        <title>WTP Projects</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/wtp_projects.png"/>
            </imageobject>
        </mediaobject>
    </figure>
        
    <para>Make sure EJB and WAR are included in EAR as modules (Properties for seamproject-ear -> Java EE Module Dependencies)</para>
    
    <figure>
        <title>Java EE Module Dependencies</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/java_ee_module_dependencies.png"/>
            </imageobject>
        </mediaobject>
    </figure>
        
    <para>Make sure there is jboss-seam.jar in application.xml as well:</para>
    
    <figure>
        <title>Java EE Module Dependencies</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/application_xml_with_jboss-seam_jar.png"/>
            </imageobject>
        </mediaobject>
    </figure>
    
    
    <para>Then include libs from EAR to EJB Manifest Class-Path (Properties for seamproject-ejb -> Java EE Module Dependencies)</para>
    
    <figure>
        <title>Including Libs from EAR to EJB Manifest Class-Path</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/including_libs_from_ear_to_ejb_manifest_class-path.png"/>
            </imageobject>
        </mediaobject>
    </figure>
    
    <para>Include libs from EAR and seamproject-ejb.jar to WAR Manifest Class-Path (Properties for seamproject-war -> Java EE Module Dependencies)</para>   
    
    <figure>
        <title>Including Libs from EAR and seamproject-ejb.jar to WAR Manifest Class-Path</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/including_libs_from_ear_to_war_manifest_class-path.png"/>
            </imageobject>
        </mediaobject>
    </figure>
    
    <para>Thus we have set our WTP EAR/EJB/WAR projects and now we are ready to add Seam support to them:</para>
    
    <para>First you have to add Seam support to WAR project: Properties for seamproject-war -> Seam Settings</para>
    
    
    <figure>
        <title>Adding Seam Support to WAR Project</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/adding_seam_support_to_war_project.png"/>
            </imageobject>
        </mediaobject>
    </figure>
    
     
    <para>Set seamproject-war as Main Seam project. All other settings mostly are used by New Seam Entity/Action/Form/Conversation/... Wizards. Thus you can set them as you wish.</para>
    
    <para>Then you can add Seam support to EJB project: Properties for seamproject-war -> Seam Settings</para>
    
    <figure>
        <title>Adding Seam Support to EJB Project</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/adding_seam_support_to_ejb_project.png"/>
            </imageobject>
        </mediaobject>
    </figure>
    
    <para>It&amp;s important to set seamproject-war project as main Seam project there.</para>
        <para>It will allow Seam Tools to use one common Seam model for seamproject-ejb and seamproject-war projects.</para>
    
    <para>The last step is to clean/build the projects</para>
    
    <para>That is all. You have added Seam support to your EAR project. </para>
    
    <figure>
        <title>Added Seam Support to EAR Project</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/adding_seam_support_to_project/added_seam_support_to_ear_project.png"/>
            </imageobject>
        </mediaobject>
    </figure>
    
</chapter>